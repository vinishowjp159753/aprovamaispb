<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AprovaMaisPB - Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="firebase-config.js"></script> <!-- Certifique-se de que esse arquivo existe -->
    <style>
        :root {
            --primary: #1a2a6c;
            --secondary: #b21f1f;
            --accent: #fdbb2d;
            --success: #28a745;
        }
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
        body{background-color:#f5f7fb;color:#333;display:flex;min-height:100vh;}
        .sidebar{width:250px;background:linear-gradient(to bottom,var(--primary),#2c3e50);color:white;padding:20px 0;position:fixed;height:100vh;}
        .logo{text-align:center;padding:0 20px 20px;border-bottom:1px solid rgba(255,255,255,.1);margin-bottom:20px;}
        .logo img{max-width:120px;margin-bottom:10px;}
        .menu{list-style:none;}
        .menu li{margin-bottom:5px;}
        .menu a{display:flex;align-items:center;padding:12px 20px;color:rgba(255,255,255,.8);text-decoration:none;transition:all .3s;border-left:4px solid transparent;}
        .menu a:hover,.menu a.active{background:rgba(255,255,255,.1);color:white;border-left:4px solid var(--accent);}
        .menu i{margin-right:10px;font-size:18px;}
        .main-content{flex:1;margin-left:250px;padding:20px;}
        .header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:15px;border-bottom:1px solid #e0e0e0;}
        .welcome h1{font-size:24px;color:var(--primary);margin-bottom:5px;}
        .welcome p{color:#666;}
        .user-info{display:flex;align-items:center;}
        .user-info i{font-size:40px;color:var(--primary);margin-right:10px;}
        .dashboard-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px;}
        .card{background:white;border-radius:10px;padding:20px;box-shadow:0 5px 15px rgba(0,0,0,.05);transition:transform .3s;}
        .card:hover{transform:translateY(-5px);}
        .card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;}
        .card-title{font-size:16px;color:#666;font-weight:500;}
        .card-icon{width:50px;height:50px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:24px;}
        .card-content{margin-top:10px;}
        .card-value{font-size:28px;font-weight:700;color:var(--primary);}
        .card-desc{font-size:14px;color:#999;margin-top:5px;}
        .charts{display:grid;grid-template-columns:2fr 1fr;gap:20px;margin-bottom:30px;}
        .chart-container{background:white;border-radius:10px;padding:20px;box-shadow:0 5px 15px rgba(0,0,0,.05);}
        .chart-title{font-size:18px;margin-bottom:15px;color:var(--primary);font-weight:600;}
        .quick-actions{margin-bottom:30px;}
        .section-title{font-size:20px;margin-bottom:20px;color:var(--primary);font-weight:600;padding-bottom:10px;border-bottom:2px solid var(--accent);display:inline-block;}
        .actions-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;}
        .action-card{background:white;border-radius:10px;padding:25px 20px;text-align:center;box-shadow:0 5px 15px rgba(0,0,0,.05);transition:all .3s;cursor:pointer;}
        .action-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,0,0,.1);}
        .action-icon{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 15px;font-size:24px;}
        .action-title{font-size:16px;font-weight:600;margin-bottom:10px;color:var(--primary);}
        .action-desc{font-size:14px;color:#666;}
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <img src="assets/img/logo_aprovamaispb.png" alt="Logo" onerror="this.style.display='none'">
            <h2>AprovaMaisPB</h2>
        </div>
        <ul class="menu">
            <li><a href="lista-alunos.html"><i class="fas fa-list"></i> Lista de Alunos</a></li>
            <li><a href="criar-professores.html"><i class="fas fa-user-plus"></i> Criar Professores</a></li>
            <li><a href="gerenciar-professores.html"><i class="fas fa-chalkboard-teacher"></i> Gerenciar Professores</a></li>
            <li><a href="controle-financeiro.html"><i class="fas fa-chart-line"></i> Controle Financeiro</a></li>
            <li><a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Sair</a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <div class="welcome">
                <h1>Bem-vindo, <span id="userName">Administrador</span>!</h1>
                <p>Painel de controle do AprovaMaisPB</p>
            </div>
            <div class="user-info">
                <i class="fas fa-user-circle"></i>
                <div>
                    <div id="currentUser">admin</div>
                    <small>Administrador</small>
                </div>
            </div>
        </div>

        <!-- Dashboard Cards -->
        <div class="dashboard-cards">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Alunos Ativos</div>
                    <div class="card-icon" style="background: rgba(26, 42, 108, 0.1); color: var(--primary);">
                        <i class="fas fa-user-graduate"></i>
                    </div>
                </div>
                <div class="card-content">
                    <div class="card-value" id="alunosAtivos">0</div>
                    <div class="card-desc" id="alunosVariacao">-</div>
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Turmas Ativas</div>
                    <div class="card-icon" style="background: rgba(178, 31, 31, 0.1); color: var(--secondary);">
                        <i class="fas fa-users"></i>
                    </div>
                </div>
                <div class="card-content">
                    <div class="card-value" id="turmasAtivas">0</div>
                    <div class="card-desc" id="turmasVariacao">-</div>
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Professores</div>
                    <div class="card-icon" style="background: rgba(253, 187, 45, 0.1); color: var(--accent);">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                </div>
                <div class="card-content">
                    <div class="card-value" id="totalProfessores">0</div>
                    <div class="card-desc" id="professoresVariacao">-</div>
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Receita Mensal</div>
                    <div class="card-icon" style="background: rgba(40, 167, 69, 0.1); color: var(--success);">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                </div>
                <div class="card-content">
                    <div class="card-value" id="receitaMensal">R$ 0,00</div>
                    <div class="card-desc" id="receitaVariacao">-</div>
                </div>
            </div>
        </div>

        <!-- Charts -->
        <div class="charts">
            <div class="chart-container">
                <h3 class="chart-title">Desempenho Mensal de Matrículas</h3>
                <canvas id="enrollmentsChart"></canvas>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Distribuição por Turma</h3>
                <canvas id="classesChart"></canvas>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <h2 class="section-title">Ações Rápidas</h2>
            <div class="actions-grid">
                <div class="action-card" onclick="location.href='lista-alunos.html'">
                    <div class="action-icon" style="background: rgba(26,42,108,.1); color: var(--primary);">
                        <i class="fas fa-list"></i>
                    </div>
                    <h3 class="action-title">Lista Completa de Alunos</h3>
                    <p class="action-desc">Visualize, edite e gerencie todos os alunos</p>
                </div>
                <div class="action-card" onclick="location.href='criar-professores.html'">
                    <div class="action-icon" style="background: rgba(178,31,31,.1); color: var(--secondary);">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <h3 class="action-title">Criar Acesso Professor</h3>
                    <p class="action-desc">Crie login e senha para professores</p>
                </div>
                <div class="action-card" onclick="location.href='gerenciar-professores.html'">
                    <div class="action-icon" style="background: rgba(253,187,45,.1); color: var(--accent);">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3 class="action-title">Gerenciar Professores</h3>
                    <p class="action-desc">Designar turmas e gerenciar professores</p>
                </div>
                <div class="action-card" onclick="location.href='controle-financeiro.html'">
                    <div class="action-icon" style="background: rgba(40,167,69,.1); color: var(--success);">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3 class="action-title">Controle Financeiro</h3>
                    <p class="action-desc">Acompanhe receitas e pagamentos</p>
                </div>
            </div>
        </div>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>
