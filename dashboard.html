<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AprovaMaisPB - Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="assets/css/dashboard.css">
</head>
<body>
  <!-- Botão de menu (mobile) -->
  <button class="menu-toggle"><i class="fas fa-bars"></i></button>
  <div class="overlay"></div>

  <!-- Sidebar -->
  <div class="sidebar">
      <div class="logo">
          <img src="assets/img/logo_aprovamaispb.png" alt="Logo AprovaMaisPB">
          <h2>AprovaMaisPB</h2>
      </div>
      <ul class="menu">
          <li><a href="index.html"><i class="fas fa-home"></i> <span>Início</span></a></li>
          <li><a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> <span>Sair</span></a></li>
      </ul>
  </div>

  <!-- Main Content -->
  <div class="main-content">
      <div class="header">
          <div class="welcome">
              <h1>Bem-vindo, <span id="userName">Administrador</span>!</h1>
              <p>Painel de controle do AprovaMaisPB</p>
          </div>
      </div>

      <!-- Dashboard Cards -->
      <div class="dashboard-cards">
          <!-- Cards aqui (Alunos, Turmas, Professores, Receita) -->
      </div>

      <!-- Quick Actions -->
      <div class="quick-actions">
          <h2 class="section-title">Ações Rápidas</h2>
          <div class="actions-grid">
              <!-- Action cards aqui -->
          </div>
      </div>

      <!-- Dashboard Charts -->
      <div class="dashboard-charts">
          <h2 class="section-title">Gráficos</h2>
          <div class="charts-grid">
              <div class="chart-card">
                  <h3>Matrículas por Mês</h3>
                  <div class="chart-container">
                      <canvas id="enrollmentsChart" aria-label="Matrículas por mês" role="img"></canvas>
                  </div>
              </div>
              <div class="chart-card">
                  <h3>Distribuição de Turmas</h3>
                  <div class="chart-container">
                      <canvas id="classesChart" aria-label="Distribuição de turmas" role="img"></canvas>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <!-- Scripts -->
  <script type="module" src="assets/js/dashboard.js"></script>
  <script type="module">
      import { auth } from "./assets/js/firebase-config.js";

      // Botão Sair
      const logoutBtn = document.getElementById("logoutBtn");
      logoutBtn.addEventListener("click", async () => {
          try {
              await auth.signOut();
              window.location.href = "login.html";
          } catch (err) {
              console.error("Erro ao sair:", err);
              alert("Não foi possível sair. Tente novamente.");
          }
      });

      // Menu mobile
      const toggleBtn = document.querySelector('.menu-toggle');
      const sidebar = document.querySelector('.sidebar');
      const overlay = document.querySelector('.overlay');

      toggleBtn.addEventListener('click', () => {
          sidebar.classList.toggle('active');
          overlay.classList.toggle('active');
      });

      overlay.addEventListener('click', () => {
          sidebar.classList.remove('active');
          overlay.classList.remove('active');
      });
  </script>
</body>
</html>
